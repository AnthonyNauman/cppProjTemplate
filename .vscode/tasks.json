{
	"version": "2.0.0",
	"inputs": [
		{
			"id": "LocalPass",
			"default": "user",
			"type": "promptString",
			"description": "Local user password",
			"password": true
		},
		{
			"id": "DockerPass",
			"default": "user",
			"type": "promptString",
			"description": "Docker user password",
			"password": true
		},
		{
			"id": "BuildType",
			"description": "Cmake project build type.",
			"options": [
				"Debug",
				"Release",
				"RelWithDebInfo",
				"MinSizeRel"
			],
			"type": "pickString",
			"default": "Release"
		},
		{
			"id": "TargetName",
			"type": "command",
			"command": "shellCommand.execute",
			"args": {
				"command": "cat ${workspaceFolder}/utils/run/options | grep apps",
				"cwd": "${workspaceFolder}",
				"env": {
					"WORKSPACE": "${workspaceFolder[0]}",
					"FILE": "${file}",
					"PROJECT": "${workspaceFolderBasename}"
				}
			}
		},
		{
			"id": "TestName",
			"type": "command",
			"command": "shellCommand.execute",
			"args": {
				"command": "cat ${workspaceFolder}/utils/run/options | grep tests",
				"cwd": "${workspaceFolder}",
				"env": {
					"WORKSPACE": "${workspaceFolder[0]}",
					"FILE": "${file}",
					"PROJECT": "${workspaceFolderBasename}"
				}
			}
		}
	],
	"tasks": [
		{
			"type": "shell",
			"label": "[Docker] C/C++: Build x86_64",
			"command": "./scripts/build.sh",
			"args": [
				"--arch=x86_64",
				"--docker",
				"--build-type=${input:BuildType}"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiBlue",
				"id": "vm-connect"
			}
		},
		{
			"type": "shell",
			"label": "[Docker] C/C++: Build armv7hf",
			"command": "./scripts/build.sh",
			"args": [
				"--arch=armv7hf",
				"--docker",
				"--build-type=${input:BuildType}"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiBlue",
				"id": "vm-connect"
			}
		},
		{
			"type": "shell",
			"label": "[Docker] C/C++: Clear",
			"command": "echo ${input:DockerPass} | sudo -S rm -rf build/docker",
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiRed",
				"id": "chrome-close"
			}
		},
		// {
		// 	"type": "shell",
		// 	"label": "[Local] C/C++: Build",
		// 	"command": "./scripts/build.sh",
		// 	"args": [
		// 		"--arch=x86_64",
		// 		"--build-type=${input:BuildType}"
		// 	],
		// 	"group": {
		// 		"kind": "build",
		// 		"isDefault": true
		// 	},
		// 	"icon": {
		// 		"color": "terminal.ansiBlue",
		// 		"id": "circuit-board"
		// 	}
		// },
		{
			"type": "shell",
			"label": "[Dev Container] C/C++: Conan Install",
			"command": "./scripts/dev_container_conan_install.sh",
			"args": [
				"--build-type=${input:BuildType}"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiBlue",
				"id": "terminal-bash"
			}
		},
		{
			"type": "shell",
			"label": "[Dev Container] C/C++: Build",
			"command": "./scripts/dev_container_build.sh",
			"args": [
				"--build-type=${input:BuildType}"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiBlue",
				"id": "circuit-board"
			}
		},
		{
			"type": "shell",
			"label": "[Dev Container] C/C++: Clear",
			"command": "rm -rf build/dev_container",
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiRed",
				"id": "chrome-close"
			}
		},
		{
			"label": "[Dev Container] Run: Target",
			"type": "shell",
			"command": "${workspaceFolder}/scripts/run.sh",
			"args": [
				"${input:TargetName}"
			],
			"problemMatcher": [],
			"icon": {
				"color": "terminal.ansiGreen",
				"id": "debug-start"
			}
		},

		{
			"label": "[Dev Container] Run: Test",
			"type": "shell",
			"command": "${workspaceFolder}/scripts/run.sh",
			"args": [
				"${input:TestName}"
			],
			"problemMatcher": [],
			"icon": {
				"color": "terminal.ansiGreen",
				"id": "debug-start"
			}
		},
		{
			"label": "Run: All Tests",
			"type": "shell",
			"command": "${workspaceFolder}/scripts/run_all_tests.sh",
			"problemMatcher": [],
			"icon": {
				"color": "terminal.ansiGreen",
				"id": "debug-start"
			}
		},
		// =================================
		{
			"type": "shell",
			"label": "Utils: Docs generating",
			"command": "./scripts/config_doxygen.sh",
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiYellow",
				"id": "new-file"
			}
		},
		{
			"type": "shell",
			"label": "Utils: Format source files",
			"command": "./scripts/format_all_files.sh",
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"icon": {
				"color": "terminal.ansiYellow",
				"id": "symbol-parameter"
			}
		}
	]
}